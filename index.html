<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz z Biologii: Układ Ruchu i Układ Nerwowy</title>
    <!-- 
      Wszystkie style CSS są zawarte tutaj, wewnątrz tagu <style>.
      Dzięki temu plik jest w pełni samowystarczalny.
    -->
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #27ae60;
            --error-color: #c0392b;
            --bg-color: #ecf0f1;
            --card-bg: #ffffff;
            --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background-color: var(--card-bg);
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            text-align: center;
        }

        h1 {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 24px;
        }

        .topic-badge {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #ddd;
            border-radius: 5px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--accent-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-box {
            font-size: 18px;
            margin-bottom: 25px;
            line-height: 1.5;
            color: #333;
            min-height: 50px;
        }

        input[type="text"] {
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            width: 80%;
            margin-bottom: 20px;
            text-align: center;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        input[type="text"]:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            font-weight: 600;
        }

        button:hover {
            background-color: #3a506b;
        }

        button:active {
            transform: translateY(1px);
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            text-align: left;
            line-height: 1.6;
        }

        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .summary-card {
            display: none;
            text-align: left;
        }

        .summary-card h2 {
            text-align: center;
            color: var(--primary-color);
        }

        .stat-box {
            background-color: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-left: 5px solid var(--accent-color);
            border-radius: 4px;
        }

        .restart-btn {
            background-color: var(--accent-color);
            margin-top: 20px;
            width: 100%;
        }

        .restart-btn:hover {
            background-color: #219150;
        }

        /* Ukrywanie elementów */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<!-- Cała struktura aplikacji HTML -->
<div class="container">
    
    <!-- Sekcja Quizu (widoczna na starcie) -->
    <div id="quiz-section">
        <h1>Sprawdzian Wiedzy</h1>
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
        
        <span id="topic-badge" class="topic-badge">Temat</span>
        
        <div class="question-box" id="question-text">
            Ładowanie pytania...
        </div>

        <input type="text" id="answer-input" placeholder="Wpisz brakujące słowo..." autocomplete="off">
        <br>
        <button id="submit-btn">Sprawdź odpowiedź</button>
        <button id="next-btn" class="hidden" style="background-color: var(--accent-color)">Następne pytanie</button>

        <div id="feedback" class="feedback"></div>
    </div>

    <!-- Sekcja Podsumowania (ukryta na starcie) -->
    <div id="summary-section" class="summary-card">
        <h2>Podsumowanie</h2>
        <p style="text-align: center; font-size: 1.2em;">Twój wynik: <strong id="final-score">0</strong>/20</p>
        
        <div class="stat-box">
            <strong>Układ Ruchu:</strong> <span id="score-topic1">0</span>/10
        </div>
        <div class="stat-box">
            <strong>Układ Nerwowy i Zmysły:</strong> <span id="score-topic2">0</span>/10
        </div>

        <div class="stat-box" style="border-left-color: #3498db;">
            <strong>Najlepiej poszło:</strong> <span id="best-topic">-</span>
        </div>
        
        <div class="stat-box" style="border-left-color: #e74c3c;">
            <strong>Najgorzej poszło:</strong> <span id="worst-topic">-</span>
        </div>

        <div class="stat-box" style="border-left-color: #f1c40f;">
            <strong>Sugestia do nauki:</strong>
            <p id="study-suggestion" style="margin-top: 5px; font-size: 0.95em;"></p>
        </div>

        <button class="restart-btn" id="restart-btn">Rozwiąż ponownie</button>
    </div>
</div>

<!-- 
  Cała logika aplikacji (JavaScript) jest zawarta tutaj.
  Odpowiada za ładowanie pytań, sprawdzanie odpowiedzi i pokazywanie podsumowania.
-->
<script>
    // Baza pytań na podstawie dostarczonego PDF
    const questionsData = [
        // TEMAT 1: UKŁAD RUCHU (10 pytań)
        {
            topic: "Układ Ruchu",
            question: "Układ ruchu tworzą szkielet oraz ___.",
            answer: ["mięśnie", "mięśnie szkieletowe"],
            explanation: "Szkielet i mięśnie szkieletowe współpracują ze sobą, tworząc układ ruchu."
        },
        {
            topic: "Układ Ruchu",
            question: "Ruchome połączenia kości nazywamy ___.",
            answer: ["stawami", "stawy"],
            explanation: "Stawy to ruchome połączenia, które umożliwiają zginanie, prostowanie lub ruchy obrotowe kończyn."
        },
        {
            topic: "Układ Ruchu",
            question: "Czaszka chroni mózg, a klatka piersiowa chroni płuca i ___.",
            answer: ["serce"],
            explanation: "Jedną z funkcji szkieletu jest ochrona narządów wewnętrznych; klatka piersiowa osłania serce i płuca."
        },
        {
            topic: "Układ Ruchu",
            question: "Szkielet dorosłego człowieka składa się z ponad ___ kości.",
            answer: ["200", "dwustu"],
            explanation: "Układ szkieletowy dorosłej osoby buduje ponad 200 kości o różnych kształtach i wielkościach."
        },
        {
            topic: "Układ Ruchu",
            question: "Mięśnie są przytwierdzone do kości za pomocą ___.",
            answer: ["ścięgien", "ścięgna"],
            explanation: "Ścięgna to pasma specjalnej tkanki przypominające mocne taśmy, łączące mięśnie z kośćmi."
        },
        {
            topic: "Układ Ruchu",
            question: "Praca mięśni szkieletowych jest zależna od naszej ___.",
            answer: ["woli"],
            explanation: "Możemy kontrolować pracę mięśni szkieletowych (np. chodzenie, pisanie), w przeciwieństwie do mięśni gładkich."
        },
        {
            topic: "Układ Ruchu",
            question: "Kość długa, krótka, płaska i różnokształtna to przykłady różnych ___ kości.",
            answer: ["kształtów", "form"],
            explanation: "Kości różnią się wyglądem; wyróżniamy m.in. kości długie (np. udowa) czy płaskie (np. łopatka)."
        },
        {
            topic: "Układ Ruchu",
            question: "Aby wzmocnić kości, należy jeść produkty bogate w ___.",
            answer: ["wapń"],
            explanation: "Dieta bogata w wapń, fosfor i witaminę D zapewnia prawidłowy wzrost i twardość kości."
        },
        {
            topic: "Układ Ruchu",
            question: "Mięśnie ___ pracują niezależnie od naszej woli (np. w żołądku).",
            answer: ["gładkie", "narządów wewnętrznych", "trzewne"],
            explanation: "Mięśnie narządów wewnętrznych (np. przełyku, żołądka) pracują automatycznie, bez naszego świadomego udziału."
        },
        {
            topic: "Układ Ruchu",
            question: "Wymiana płynów w stawie i jego sprawność zależy od systematycznych ___ fizycznych.",
            answer: ["ćwiczeń", "treningów"],
            explanation: "Systematyczne ćwiczenia fizyczne wzmacniają stawy i zapobiegają chorobom układu ruchu."
        },

        // TEMAT 2: UKŁAD NERWOWY I ZMYSŁY (10 pytań)
        {
            topic: "Układ Nerwowy",
            question: "Główne części układu nerwowego to mózg, rdzeń kręgowy i ___.",
            answer: ["nerwy"],
            explanation: "Układ nerwowy składa się z ośrodkowego (mózg, rdzeń) i obwodowego (nerwy) układu."
        },
        {
            topic: "Układ Nerwowy",
            question: "Centrum decyzyjnym całego organizmu, znajdującym się w czaszce, jest ___.",
            answer: ["mózg"],
            explanation: "Mózg odbiera informacje, analizuje je i steruje pracą całego organizmu."
        },
        {
            topic: "Układ Nerwowy",
            question: "Pośrednikiem w przesyłaniu informacji między mózgiem a resztą ciała jest ___ kręgowy.",
            answer: ["rdzeń"],
            explanation: "Rdzeń kręgowy przebiega wewnątrz kręgosłupa i łączy mózg z nerwami obwodowymi."
        },
        {
            topic: "Układ Nerwowy",
            question: "Promienie świetlne wpadają do oka przez otwór zwany ___.",
            answer: ["źrenicą", "źrenica"],
            explanation: "Źrenica to otwór, przez który światło dostaje się do wnętrza gałki ocznej."
        },
        {
            topic: "Układ Nerwowy",
            question: "Obraz obserwowanego przedmiotu powstaje na ___.",
            answer: ["siatkówce"],
            explanation: "Siatkówka to błona wrażliwa na światło wewnątrz oka, na której tworzy się odwrócony obraz."
        },
        {
            topic: "Układ Nerwowy",
            question: "Widoczna część ucha, która zbiera dźwięki z otoczenia, to ___ uszna.",
            answer: ["małżowina"],
            explanation: "Małżowina uszna kieruje fale dźwiękowe do wnętrza przewodu słuchowego."
        },
        {
            topic: "Układ Nerwowy",
            question: "Narządem smaku, wyposażonym w kubki smakowe, jest ___.",
            answer: ["język"],
            explanation: "Język zawiera kubki smakowe, które pozwalają rozróżniać smaki: słodki, słony, kwaśny i gorzki."
        },
        {
            topic: "Układ Nerwowy",
            question: "W skórze znajdują się ciałka czuciowe wrażliwe na dotyk, ciepło, zimno oraz ___.",
            answer: ["ból"],
            explanation: "Zakończenia nerwowe w skórze ostrzegają nas przed uszkodzeniami, wywołując uczucie bólu."
        },
        {
            topic: "Układ Nerwowy",
            question: "Długotrwały hałas może uszkodzić narząd ___.",
            answer: ["słuchu"],
            explanation: "Wysokie natężenie dźwięku jest szkodliwe i może prowadzić do trwałego uszkodzenia słuchu."
        },
        {
            topic: "Układ Nerwowy",
            question: "Aby układ nerwowy dobrze funkcjonował, należy spać około ___ godzin na dobę.",
            answer: ["9", "dziewięciu", "dziewięć"],
            explanation: "Sen (ok. 9 godzin) pozwala zregenerować układ nerwowy i utrzymać go w dobrej kondycji."
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let topicScores = {
        "Układ Ruchu": 0,
        "Układ Nerwowy": 0
    };
    
    let shuffledQuestions = [];

    // Elementy DOM
    const questionText = document.getElementById('question-text');
    const topicBadge = document.getElementById('topic-badge');
    const answerInput = document.getElementById('answer-input');
    const submitBtn = document.getElementById('submit-btn');
    const nextBtn = document.getElementById('next-btn');
    const feedbackDiv = document.getElementById('feedback');
    const progressBar = document.getElementById('progress');
    const quizSection = document.getElementById('quiz-section');
    const summarySection = document.getElementById('summary-section');
    const restartBtn = document.getElementById('restart-btn');

    // Inicjalizacja
    function initQuiz() {
        currentQuestionIndex = 0;
        score = 0;
        topicScores["Układ Ruchu"] = 0;
        topicScores["Układ Nerwowy"] = 0;
        
        // Tasowanie pytań
        shuffledQuestions = [...questionsData].sort(() => Math.random() - 0.5);
        
        // Przywracanie widoku quizu
        summarySection.style.display = 'none';
        quizSection.style.display = 'block';
        
        loadQuestion();
    }

    function loadQuestion() {
        // Zabezpieczenie na wypadek braku pytań
        if (shuffledQuestions.length === 0 || !shuffledQuestions[currentQuestionIndex]) return;

        const q = shuffledQuestions[currentQuestionIndex];
        questionText.innerText = (currentQuestionIndex + 1) + ". " + q.question;
        topicBadge.innerText = q.topic;
        
        // Resetowanie stanu
        answerInput.value = "";
        answerInput.disabled = false;
        feedbackDiv.style.display = 'none';
        feedbackDiv.className = 'feedback';
        submitBtn.classList.remove('hidden');
        nextBtn.classList.add('hidden');
        answerInput.focus();

        // Aktualizacja paska postępu
        const progressPercent = (currentQuestionIndex / shuffledQuestions.length) * 100;
        progressBar.style.width = progressPercent + "%";
    }

    function checkAnswer() {
        const userAnswer = answerInput.value.trim().toLowerCase();
        const currentQ = shuffledQuestions[currentQuestionIndex];
        
        // Konwersja możliwych odpowiedzi na małe litery
        const possibleAnswers = currentQ.answer.map(a => a.toLowerCase());

        if (userAnswer === "") return; // Nie sprawdzaj pustego pola

        let isCorrect = possibleAnswers.includes(userAnswer);

        answerInput.disabled = true;
        submitBtn.classList.add('hidden');
        nextBtn.classList.remove('hidden');
        feedbackDiv.style.display = 'block';

        if (isCorrect) {
            score++;
            topicScores[currentQ.topic]++;
            feedbackDiv.innerHTML = "<strong>Świetnie! Poprawna odpowiedź.</strong><br>" + currentQ.explanation;
            feedbackDiv.classList.add('correct');
        } else {
            feedbackDiv.innerHTML = "<strong>Niestety, to nie jest poprawna odpowiedź.</strong><br>" + 
                                    "Prawidłowa odpowiedź to: <em>" + currentQ.answer[0] + "</em>.<br>" +
                                    currentQ.explanation;
            feedbackDiv.classList.add('incorrect');
        }
    }

    // Obsługa Entera w polu tekstowym
    answerInput.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            // Sprawdź, który przycisk jest widoczny i aktywuj go
            if (!submitBtn.classList.contains('hidden')) {
                checkAnswer();
            } else if (!nextBtn.classList.contains('hidden')) {
                nextQuestion();
            }
        }
    });

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < shuffledQuestions.length) {
            loadQuestion();
        } else {
            showSummary();
        }
    }

    function showSummary() {
        quizSection.style.display = 'none';
        summarySection.style.display = 'block';

        // Wypełnianie danych
        document.getElementById('final-score').innerText = score;
        document.getElementById('score-topic1').innerText = topicScores["Układ Ruchu"];
        document.getElementById('score-topic2').innerText = topicScores["Układ Nerwowy"];

        // Analiza wyników
        const t1 = topicScores["Układ Ruchu"];
        const t2 = topicScores["Układ Nerwowy"];
        
        let best, worst, suggestion;

        if (t1 > t2) {
            best = "Układ Ruchu";
            worst = "Układ Nerwowy i Zmysły";
            suggestion = "Skup się na powtórzeniu budowy oka, ucha oraz funkcji układu nerwowego. Zwróć uwagę na to, jak mózg steruje organizmem.";
        } else if (t2 > t1) {
            best = "Układ Nerwowy i Zmysły";
            worst = "Układ Ruchu";
            suggestion = "Powtórz wiadomości o budowie szkieletu (rodzaje kości, stawy) oraz o mięśniach (ścięgna, rodzaje mięśni). Pamiętaj o zasadach higjeny kręgosłupa.";
        } else {
            if (score === 20) {
                best = "Oba tematy opanowane perfekcyjnie!";
                worst = "Brak";
                suggestion = "Jesteś mistrzem! Utrzymuj wiedzę, dbając o zdrowy sen i ruch.";
            } else {
                best = "Poziom wyrównany";
                worst = "Poziom wyrównany";
                suggestion = "Masz wyrównaną wiedzę, ale warto przejrzeć oba rozdziały jeszcze raz, aby wyeliminować drobne błędy.";
            }
        }

        document.getElementById('best-topic').innerText = best;
        document.getElementById('worst-topic').innerText = worst;
        document.getElementById('study-suggestion').innerText = suggestion;
    }

    // Dodanie listenerów do przycisków
    submitBtn.addEventListener('click', checkAnswer);
    nextBtn.addEventListener('click', nextQuestion);
    restartBtn.addEventListener('click', initQuiz);

    // Start aplikacji
    initQuiz();

</script>

</body>
</html>